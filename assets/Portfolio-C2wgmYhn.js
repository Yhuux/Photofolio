import{r as i,M as F,j as n,u as q,P as O,b as V,L as W,c as P,m as b}from"./index-CWAut09G.js";import{X as B}from"./x-BLqAfXDg.js";class D extends i.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T({children:e,isPresent:s}){const t=i.useId(),o=i.useRef(null),l=i.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=i.useContext(F);return i.useInsertionEffect(()=>{const{width:a,height:r,top:h,left:u}=l.current;if(s||!o.current||!a||!r)return;o.current.dataset.motionPopId=t;const f=document.createElement("style");return c&&(f.nonce=c),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${r}px !important;
            top: ${h}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[s]),n.jsx(D,{isPresent:s,childRef:o,sizeRef:l,children:i.cloneElement(e,{ref:o})})}const _=({children:e,initial:s,isPresent:t,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:a})=>{const r=q(G),h=i.useId(),u=i.useCallback(m=>{r.set(m,!0);for(const d of r.values())if(!d)return;o&&o()},[r,o]),f=i.useMemo(()=>({id:h,initial:s,isPresent:t,custom:l,onExitComplete:u,register:m=>(r.set(m,!1),()=>r.delete(m))}),c?[Math.random(),u]:[t,u]);return i.useMemo(()=>{r.forEach((m,d)=>r.set(d,!1))},[t]),i.useEffect(()=>{!t&&!r.size&&o&&o()},[t]),a==="popLayout"&&(e=n.jsx(T,{isPresent:t,children:e})),n.jsx(O.Provider,{value:f,children:e})};function G(){return new Map}const j=e=>e.key||"";function L(e){const s=[];return i.Children.forEach(e,t=>{i.isValidElement(t)&&s.push(t)}),s}const H=({children:e,exitBeforeEnter:s,custom:t,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:a="sync"})=>{const r=i.useMemo(()=>L(e),[e]),h=r.map(j),u=i.useRef(!0),f=i.useRef(r),m=q(()=>new Map),[d,g]=i.useState(r),[y,E]=i.useState(r);V(()=>{u.current=!1,f.current=r;for(let x=0;x<y.length;x++){const p=j(y[x]);h.includes(p)?m.delete(p):m.get(p)!==!0&&m.set(p,!1)}},[y,h.length,h.join("-")]);const C=[];if(r!==d){let x=[...r];for(let p=0;p<y.length;p++){const w=y[p],k=j(w);h.includes(k)||(x.splice(p,0,w),C.push(w))}a==="wait"&&C.length&&(x=C),E(L(x)),g(r);return}const{forceRender:N}=i.useContext(W);return n.jsx(n.Fragment,{children:y.map(x=>{const p=j(x),w=r===y||h.includes(p),k=()=>{if(m.has(p))m.set(p,!0);else return;let R=!0;m.forEach(A=>{A||(R=!1)}),R&&(N==null||N(),E(f.current),l&&l())};return n.jsx(_,{isPresent:w,initial:!u.current||o?void 0:!1,custom:w?void 0:t,presenceAffectsLayout:c,mode:a,onExitComplete:w?void 0:k,children:x},p)})})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=P("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=P("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=P("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),v=[{id:"minimal-landscape",url:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=800&q=80",title:"Minimal Landscape"},{id:"urban-minimal",url:"https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?auto=format&fit=crop&w=800&q=80",title:"Urban Minimalism"},{id:"portrait-light",url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=800&q=80",title:"Natural Light"},{id:"minimal-architecture",url:"https://images.unsplash.com/photo-1468436139062-f60a71c5c892?auto=format&fit=crop&w=800&q=80",title:"Architectural Lines"},{id:"nature-minimal",url:"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?auto=format&fit=crop&w=800&q=80",title:"Natural Minimalism"},{id:"portrait-minimal",url:"https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?auto=format&fit=crop&w=800&q=80",title:"Minimalist Portrait"},{id:"street-photography",url:"https://images.unsplash.com/photo-1531219572328-a0171b4448a3?auto=format&fit=crop&w=800&q=80",title:"Street Life"},{id:"wildlife",url:"https://images.unsplash.com/photo-1504006833117-8886a355efbf?auto=format&fit=crop&w=800&q=80",title:"Wildlife Wonder"},{id:"fashion-portrait",url:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=800&q=80",title:"Fashion Portrait"},{id:"night-city",url:"https://images.unsplash.com/photo-1519501025264-65ba15a82390?auto=format&fit=crop&w=800&q=80",title:"Night City"},{id:"mountain-view",url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=800&q=80",title:"Mountain Vista"},{id:"studio-portrait",url:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=800&q=80",title:"Studio Light"}];function S(e){var s,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(s=0;s<l;s++)e[s]&&(t=S(e[s]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function I(){for(var e,s,t=0,o="",l=arguments.length;t<l;t++)(e=arguments[t])&&(s=S(e))&&(o&&(o+=" "),o+=s);return o}const J=i.memo(function({src:s,alt:t,className:o="",priority:l=!1}){const[c,a]=i.useState(!1),[r,h]=i.useState(!1);return i.useEffect(()=>{if(!l)return;const u=new Image,f=new AbortController;return u.src=s,u.onload=()=>a(!0),u.onerror=()=>h(!0),()=>{f.abort(),u.onload=null,u.onerror=null}},[s,l]),r?n.jsx("div",{className:I("bg-gray-100 dark:bg-gray-800 flex items-center justify-center",o),role:"img","aria-label":`Failed to load image: ${t}`,children:n.jsx("span",{className:"text-sm text-gray-500",children:"Failed to load image"})}):n.jsxs(b.div,{className:I("relative overflow-hidden",o),initial:!1,children:[n.jsx(b.img,{src:s,alt:t,loading:l?"eager":"lazy",decoding:"async",onLoad:()=>a(!0),onError:()=>h(!0),className:I("w-full h-full object-cover transition-opacity duration-500",c?"opacity-100":"opacity-0"),fetchPriority:l?"high":"auto"}),!c&&n.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-800 animate-pulse",role:"presentation"})]})}),M=new Map;function Q(e={}){const[s,t]=i.useState(!1),o=i.useRef(null),l=i.useMemo(()=>`${e.threshold??0}-${e.rootMargin??"0px"}`,[e.threshold,e.rootMargin]);return i.useEffect(()=>{const c=o.current;if(!c)return;let a=M.get(l);return a||(a=new IntersectionObserver(([r])=>{t(r.isIntersecting)},e),M.set(l,a)),a.observe(c),()=>{c&&(a==null||a.unobserve(c),a!=null&&a.takeRecords().length||(a==null||a.disconnect(),M.delete(l)))}},[l,e.threshold,e.rootMargin]),[o,s]}const Y=6,$=i.memo(({image:e,onClose:s,onNext:t,onPrev:o})=>n.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",children:[n.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-4",children:[n.jsx("button",{onClick:l=>{l.stopPropagation();const c=document.createElement("a");c.href=e.url,c.download=`image-${e.id}`,c.click()},className:"p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:n.jsx(X,{className:"w-6 h-6"})}),n.jsx("button",{onClick:s,className:"p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:n.jsx(B,{className:"w-6 h-6"})})]}),n.jsx("button",{onClick:o,className:"absolute left-4 p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:n.jsx(K,{className:"w-6 h-6"})}),n.jsx(b.img,{src:e.url,alt:e.title,className:"max-w-full max-h-[90vh] object-contain",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},e.id),n.jsx("button",{onClick:t,className:"absolute right-4 p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:n.jsx(U,{className:"w-6 h-6"})})]}));$.displayName="ImageModal";const z=i.memo(({image:e,onClick:s,index:t})=>n.jsx(b.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},whileHover:{y:-5},onClick:s,className:"cursor-pointer group overflow-hidden rounded-lg shadow-lg bg-gray-100 dark:bg-gray-800",children:n.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[n.jsx(J,{src:e.url,alt:e.title,className:"w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-110",priority:t<4}),n.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}));z.displayName="PortfolioImage";const Z=i.memo(()=>{const[e,s]=i.useState(null),[t,o]=i.useState(1),[l,c]=Q({threshold:.1}),a=i.useMemo(()=>v.slice(0,t*Y),[t]),r=a.length<v.length,h=i.useCallback(d=>{s(d)},[]),u=i.useCallback(()=>{s(null)},[]),f=i.useCallback(d=>{d.stopPropagation(),s(g=>g===null?null:g===0?v.length-1:g-1)},[]),m=i.useCallback(d=>{d.stopPropagation(),s(g=>g===null?null:g===v.length-1?0:g+1)},[]);return c&&r&&requestAnimationFrame(()=>{o(d=>d+1)}),n.jsx("section",{className:"py-32 px-4 bg-white dark:bg-gray-900",id:"portfolio",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx(b.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:n.jsx("h2",{className:"text-4xl font-bold mb-8 dark:text-white",children:"Portfolio"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((d,g)=>n.jsx(z,{image:d,onClick:()=>h(g),index:g},d.id))}),r&&n.jsx("div",{ref:l,className:"h-20 flex items-center justify-center mt-8",children:n.jsx(b.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"w-8 h-8 border-2 border-gray-900 dark:border-white rounded-full border-t-transparent animate-spin"})}),n.jsx(H,{children:e!==null&&n.jsx($,{image:v[e],onClose:u,onNext:m,onPrev:f})})]})})});Z.displayName="Portfolio";export{Z as default};
